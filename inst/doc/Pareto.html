<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Ulrich Riegel" />

<meta name="date" content="2020-09-11" />

<title>Pareto Package Vignette</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Pareto Package Vignette</h1>
<h4 class="author">Ulrich Riegel</h4>
<h4 class="date">2020-09-11</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The (European) Pareto distribution is probably the most popular distribution for modeling large losses in reinsurance pricing. There are good reasons for this popularity, which are discussed in detail in Fackler (2013). We recommend Philbrick (1985) and Schmutz <em>et.al.</em> (1998) for an impression of how the (European) Pareto distribution is applied in practice.</p>
<p>In cases where the Pareto distribution is not flexible enough, pricing actuaries sometimes use piecewise Pareto distributions. For instance, a Pareto alpha of 1.5 is used to model claim sizes between USD 1M and USD 5M and an alpha of 2.5 is used above USD 5M. A particularly useful and non-trivial application of the piecewise Pareto distribution is that it can be used to match a tower of expected layer losses with a layer independent collective loss model. Details are described in Riegel (2018), who also provides a matching algorithm that works for an arbitrary number of reinsurance layers.</p>
<p>The package provides a tool kit for the Pareto, the piecewise Pareto and the generalized Pareto distribution, which is useful for pricing of reinsurance treaties. In particular, the package provides the matching algorithm for layer losses.</p>
</div>
<div id="pareto-distribution" class="section level2">
<h2>Pareto distribution</h2>
<p><strong>Definition:</strong> Let <span class="math inline">\(t&gt;0\)</span> and <span class="math inline">\(\alpha&gt;0\)</span>. The <em>Pareto distribution</em> <span class="math inline">\(\text{Pareto}(t,\alpha)\)</span> is defined by the distribution function <span class="math display">\[
F_{t,\alpha}(x):=\begin{cases}
0 &amp; \text{ for $x\le t$} \\
\displaystyle 1-\left(\frac{t}{x}\right)^{\alpha} &amp; \text{ for $x&gt;t$.}
\end{cases}
\]</span> This version of the Pareto distribution is also known as <em>Pareto type I</em>, <em>European Pareto</em> or <em>single-parameter Pareto</em>.</p>
<div id="distribution-function-and-density" class="section level3">
<h3>Distribution function and density</h3>
<p>The functions <code>pPareto</code> and <code>dPareto</code> provide the distribution function and the density function of the Pareto distribution:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">library</span>(Pareto)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1000</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="kw">pPareto</span>(x, <span class="dv">1000</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 0.0000000 0.7500000 0.8888889 0.9375000 0.9600000 0.9722222 0.9795918
##  [8] 0.9843750 0.9876543 0.9900000</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">plot</span>(<span class="kw">pPareto</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5000</span>, <span class="dv">1000</span>, <span class="dv">2</span>), <span class="dt">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;CDF(x)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">dPareto</span>(x, <span class="dv">1000</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 0.000000e+00 2.500000e-04 7.407407e-05 3.125000e-05 1.600000e-05
##  [6] 9.259259e-06 5.830904e-06 3.906250e-06 2.743484e-06 2.000000e-06</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">plot</span>(<span class="kw">dPareto</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5000</span>, <span class="dv">1000</span>, <span class="dv">2</span>), <span class="dt">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;PDF(x)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The package also provides the quantile function:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="kw">qPareto</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">10</span> <span class="op">/</span><span class="st"> </span><span class="dv">10</span>, <span class="dv">1000</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 1000.000 1054.093 1118.034 1195.229 1290.994 1414.214 1581.139 1825.742
##  [9] 2236.068 3162.278      Inf</code></pre>
</div>
<div id="simulation" class="section level3">
<h3>Simulation:</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="kw">rPareto</span>(<span class="dv">20</span>, <span class="dv">1000</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1]  1245.403  1429.811  2134.593  1053.930  1393.916  1856.907  2262.471
##  [8]  1087.394  1900.163  1915.308  1158.663  1409.044  1315.225  1086.571
## [15] 28640.944  1190.798  1836.115  1019.563  1179.296  1320.502</code></pre>
</div>
<div id="layer-mean" class="section level3">
<h3>Layer mean:</h3>
<p>Let <span class="math inline">\(X\sim \text{Pareto}(t,\alpha)\)</span> and <span class="math inline">\(a, c\ge 0\)</span>. Then <span class="math display">\[
E(\min[c,\max(X-a,0)]) = \int_a^{c+a}(1-F_{t,\alpha}(x))\, dx =: I_{t,\alpha}^{\text{$c$ xs $a$}}
\]</span> is the layer mean of <span class="math inline">\(c\)</span> xs <span class="math inline">\(a\)</span>, i.e. the expected loss to the layer given a single loss <span class="math inline">\(X\)</span>.</p>
<p><em>Example:</em> <span class="math inline">\(t=500\)</span>, <span class="math inline">\(\alpha = 2\)</span>, Layer 4000 xs 1000</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="kw">Pareto_Layer_Mean</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">2</span>, <span class="dt">t =</span> <span class="dv">500</span>)</span></code></pre></div>
<pre><code>## [1] 200</code></pre>
</div>
<div id="layer-variance" class="section level3">
<h3>Layer variance:</h3>
<p>Let <span class="math inline">\(X\sim \text{Pareto}(t,\alpha)\)</span> and <span class="math inline">\(a, c\ge 0\)</span>. Then the variance of the layer loss <span class="math inline">\(\min[c,\max(X-a,0)]\)</span> can be calculated with the function <code>Pareto_Layer_Var</code>.</p>
<p><em>Example:</em> <span class="math inline">\(t=500\)</span>, <span class="math inline">\(\alpha = 2\)</span>, Layer 4000 xs 1000</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a><span class="kw">Pareto_Layer_Var</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">2</span>, <span class="dt">t =</span> <span class="dv">500</span>)</span></code></pre></div>
<pre><code>## [1] 364719</code></pre>
</div>
<div id="why-is-the-pareto-distribution-so-popular" class="section level3">
<h3>Why is the Pareto distribution so popular?</h3>
<p><strong>Lemma:</strong></p>
<ul>
<li>Let <span class="math inline">\(X \sim \text{Pareto}(t,\alpha )\)</span>. Then <span class="math inline">\(cX \sim \text{Pareto}(ct,\alpha )\)</span> for all <span class="math inline">\(c&gt;0\)</span>.</li>
<li>Let <span class="math inline">\(X \sim \text{Pareto}(t_{1} ,\alpha )\)</span>. For <span class="math inline">\(t_2 &gt; t_1\)</span> we then have <span class="math inline">\(X|(X&gt;t_2 ) \sim \text{Pareto}(t_2 ,\alpha )\)</span></li>
</ul>
<p><strong>Consequences:</strong></p>
<ul>
<li>The <em>Pareto alpha</em> is invariant wrt scaling (which implies that <span class="math inline">\(\alpha\)</span> does not depend on currencies and inflation) </li>
<li>For Pareto distributed data the Pareto alpha does not depend on the reporting threshold </li>
<li>For layers and thresholds above <span class="math inline">\(t\)</span> the ratio between expected layer losses and/or excess frequencies depends only on <span class="math inline">\(\alpha\)</span> (and not on <span class="math inline">\(t\)</span>)</li>
</ul>
</div>
<div id="pareto-extrapolation" class="section level3">
<h3>Pareto extrapolation</h3>
<p>Consider two layers <span class="math inline">\(c_i\)</span> xs <span class="math inline">\(a_i\)</span> and a <span class="math inline">\(\text{Pareto}(t,\alpha)\)</span> distributed severity with sufficiently small <span class="math inline">\(t\)</span>. What is the expected loss of <span class="math inline">\(c_2\)</span> xs <span class="math inline">\(a_2\)</span> given the expected loss of <span class="math inline">\(c_1\)</span> xs <span class="math inline">\(a_1\)</span>?</p>
<p><em>Example:</em> Assume <span class="math inline">\(\alpha = 2\)</span> and the expected loss of 4000 xs 1000 is 500. Calculate the expected loss of the layer 5000 xs 5000.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="kw">Pareto_Extrapolation</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">5000</span>, <span class="dv">5000</span>, <span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="dv">500</span></span></code></pre></div>
<pre><code>## [1] 62.5</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="kw">Pareto_Extrapolation</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">5000</span>, <span class="dv">5000</span>, <span class="dv">2</span>, <span class="dt">ExpLoss_1 =</span> <span class="dv">500</span>)</span></code></pre></div>
<pre><code>## [1] 62.5</code></pre>
</div>
<div id="pareto-alpha-between-two-layers" class="section level3">
<h3>Pareto alpha between two layers:</h3>
<p>Given the expected losses of two layers, there is typically a unique Pareto alpha <span class="math inline">\(\alpha\)</span> which is consistent with the ratio of the expected layer losses.</p>
<p><em>Example:</em> Expected loss of 4000 xs 1000 is 500. Expected loss of 5000 xs 5000 is 62.5. Alpha between the two layers:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="kw">Pareto_Find_Alpha_btw_Layers</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">500</span>, <span class="dv">5000</span>, <span class="dv">5000</span>, <span class="fl">62.5</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Check: see previous example</p>
</div>
<div id="pareto-alpha-between-a-frequency-and-layer" class="section level3">
<h3>Pareto alpha between a frequency and layer:</h3>
<p>Given the expected excess frequency at a threshold and the expected loss of a layer, then there is typically a unique Pareto alpha <span class="math inline">\(\alpha\)</span> which is consistent with this data.</p>
<p><em>Example:</em> Expected frequency in excess of 500 is 2.5. Expected loss of 4000 xs 1000 is 500. Alpha between the frequency and the layer:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a><span class="kw">Pareto_Find_Alpha_btw_FQ_Layer</span>(<span class="dv">500</span>, <span class="fl">2.5</span>, <span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">500</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Check:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a><span class="kw">Pareto_Layer_Mean</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dv">2</span>, <span class="dt">t =</span> <span class="dv">500</span>) <span class="op">*</span><span class="st"> </span><span class="fl">2.5</span></span></code></pre></div>
<pre><code>## [1] 500</code></pre>
</div>
<div id="matching-the-expected-losses-of-two-layers" class="section level3">
<h3>Matching the expected losses of two layers:</h3>
<p>Given the expected losses of two layers, we can use these techniques to obtain a Poisson-Pareto model which matches the expected loss of both layers.</p>
<p><em>Example:</em> Expected loss of 30 xs 10 is 26.66 (Burning Cost). Expected loss of 60 xs 40 is 15.95 (Exposure model).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="kw">Pareto_Find_Alpha_btw_Layers</span>(<span class="dv">30</span>, <span class="dv">10</span>, <span class="fl">26.66</span>, <span class="dv">60</span>, <span class="dv">40</span>, <span class="fl">15.95</span>)</span></code></pre></div>
<pre><code>## [1] 1.086263</code></pre>
<p>Frequency @ 10:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a><span class="fl">26.66</span> <span class="op">/</span><span class="st"> </span><span class="kw">Pareto_Layer_Mean</span>(<span class="dv">30</span>, <span class="dv">10</span>, <span class="fl">1.086263</span>)</span></code></pre></div>
<pre><code>## [1] 2.040392</code></pre>
<p>A collective model <span class="math inline">\(\sum_{n=1}^NX_n\)</span> with <span class="math inline">\(X_N\sim \text{Pareto}(10, 1.09)\)</span> and <span class="math inline">\(N\sim \text{Poisson}(2.04)\)</span> matches both expected layer losses.</p>
</div>
<div id="frequency-extrapolation-and-alpha-between-frequencies" class="section level3">
<h3>Frequency extrapolation and alpha between frequencies:</h3>
<p>Given the frequency <span class="math inline">\(f_1\)</span> in excess of <span class="math inline">\(t_1\)</span> the frequency <span class="math inline">\(f_2\)</span> in excess of <span class="math inline">\(t_2\)</span> can directly be calculated as follows: <span class="math display">\[
f_2 = f_1 \cdot \left(\frac{t_1}{t_2}\right)^\alpha
\]</span> Vice versa, we can calculate the Pareto alpha, if the two excess frequencies <span class="math inline">\(f_1\)</span> and <span class="math inline">\(f_2\)</span> are given: <span class="math display">\[
\alpha = \frac{\log(f_2/f_1)}{\log(t_1/t_2)}.
\]</span></p>
<p><em>Example:</em></p>
<p>Expected frequency excess 1000 is 2. What is the expected frequency excess 4000 if we have a Pareto alpha of 2.5?</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a>t_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="dv">1000</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true"></a>f_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true"></a>t_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="dv">4000</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true"></a>(f_<span class="dv">2</span> &lt;-<span class="st"> </span>f_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>(t_<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>t_<span class="dv">2</span>)<span class="op">^</span><span class="fl">2.5</span>)</span></code></pre></div>
<pre><code>## [1] 0.0625</code></pre>
<p>Vice versa:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a><span class="kw">Pareto_Find_Alpha_btw_FQs</span>(t_<span class="dv">1</span>, f_<span class="dv">1</span>, t_<span class="dv">2</span>, f_<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 2.5</code></pre>
</div>
<div id="maximum-likelihood-estimation-of-the-parameter-alpha" class="section level3">
<h3>Maximum likelihood estimation of the parameter alpha</h3>
<p>For <span class="math inline">\(i=1,\dots,n\)</span> let <span class="math inline">\(X_i\sim \text{Pareto}(t_i,\alpha)\)</span> be Pareto distributed observations. Then we have the ML estimator <span class="math display">\[
\hat{\alpha}^{ML}=\frac{n}{\sum_{i=1}^n\log(X_i/t_i)}.
\]</span> <em>Example:</em></p>
<p>Pareto distributed losses with a reporting threshold of <span class="math inline">\(t=100\)</span> and <span class="math inline">\(\alpha = 2\)</span>:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true"></a>losses &lt;-<span class="st"> </span><span class="kw">rPareto</span>(<span class="dv">1000</span>, <span class="dt">t =</span> <span class="dv">100</span>, <span class="dt">alpha =</span> <span class="dv">2</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true"></a><span class="kw">Pareto_ML_Estimator_Alpha</span>(losses, <span class="dt">t =</span> <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 2.05329</code></pre>
</div>
<div id="truncation" class="section level3">
<h3>Truncation</h3>
<p>Let <span class="math inline">\(X\sim \text{Pareto}(t,\alpha)\)</span> and <span class="math inline">\(T&gt;t\)</span>. Then <span class="math inline">\(X|(X&gt;T)\)</span> has a <em>truncated Pareto distribution</em>. The Pareto functions mentioned above are also available for the truncated Pareto distribution.</p>
</div>
</div>
<div id="piecewise-pareto-distribution" class="section level2">
<h2>Piecewise Pareto distribution</h2>
<p><strong>Definition:</strong> Let <span class="math inline">\(\mathbf{t}:=(t_1,\dots,t_n)\)</span> be a vector of thresholds with <span class="math inline">\(0&lt;t_1&lt;\dots&lt;t_n&lt;t_{n+1}:=+\infty\)</span> and let <span class="math inline">\(\boldsymbol\alpha:=(\alpha_1,\dots,\alpha_n)\)</span> be a vector of Pareto alphas with <span class="math inline">\(\alpha_i\ge 0\)</span> and <span class="math inline">\(\alpha_n&gt;0\)</span>. The <em>piecewise Pareto</em> distribution} <span class="math inline">\(\text{PPareto}(\mathbf{t},\boldsymbol\alpha)\)</span> is defined by the distribution function <span class="math display">\[
F_{\mathbf{t},\boldsymbol\alpha}(x):=\begin{cases}
0 &amp; \text{ for $x&lt;t_1$} \\
\displaystyle 1-\left(\frac{t_{k}}{x}\right)^{\alpha_k}\prod_{i=1}^{k-1}\left(\frac{t_i}{t_{i+1}}\right)^{\alpha_i} &amp; \text{ for $x\in [t_k,t_{k+1}).$}
\end{cases}
\]</span></p>
<p>The family of piecewise Pareto distributions is very flexible:</p>
<p><strong>Proposition:</strong> The set of Piecewise Pareto distributions is dense in the space of all positive-valued distributions (with respect to the Lévy metric).</p>
<p>This means that we can approximate any positive valued distribution as good as we want with piecewise Pareto. A very good approximation typically comes at the cost of many Pareto pieces. Piecewise Pareto is often a good alternative to a discrete distribution, since it is much better to handle!</p>
<p>The Pareto package also provides functions for the piecewise Pareto distribution. For instance:</p>
<div id="distribution-function" class="section level3">
<h3>Distribution function</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1000</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true"></a>t &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>, <span class="dv">3000</span>, <span class="dv">4000</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true"></a>alpha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">20</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true"></a><span class="kw">pPiecewisePareto</span>(x, t, alpha)</span></code></pre></div>
<pre><code>##  [1] 0.0000000 0.7500000 0.8333333 0.9296875 0.9991894 0.9999789 0.9999990
##  [8] 0.9999999 1.0000000 1.0000000</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true"></a><span class="kw">plot</span>(<span class="kw">pPiecewisePareto</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5000</span>, t, alpha), <span class="dt">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;CDF(x)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="density" class="section level3">
<h3>Density</h3>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true"></a><span class="kw">dPiecewisePareto</span>(x, t, alpha)</span></code></pre></div>
<pre><code>##  [1] 0.000000e+00 1.250000e-04 1.666667e-04 3.515625e-04 3.242592e-06
##  [6] 7.048328e-08 2.768239e-09 1.676381e-10 1.413089e-11 1.546188e-12</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true"></a><span class="kw">plot</span>(<span class="kw">dPiecewisePareto</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5000</span>, t, alpha), <span class="dt">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;PDF(x)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="simulation-1" class="section level3">
<h3>Simulation</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true"></a><span class="kw">rPiecewisePareto</span>(<span class="dv">20</span>, t, alpha)</span></code></pre></div>
<pre><code>##  [1] 1031.446 1773.434 1453.525 1663.846 4832.841 1129.623 1418.571 1310.996
##  [9] 1450.554 4002.177 1054.120 1006.987 1181.157 2356.843 2746.411 1309.444
## [17] 1944.367 1185.440 1321.415 1368.198</code></pre>
</div>
<div id="layer-mean-1" class="section level3">
<h3>Layer mean</h3>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true"></a><span class="kw">PiecewisePareto_Layer_Mean</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, t, alpha)</span></code></pre></div>
<pre><code>## [1] 826.6969</code></pre>
</div>
<div id="layer-variance-1" class="section level3">
<h3>Layer variance</h3>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true"></a><span class="kw">PiecewisePareto_Layer_Var</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, t, alpha)</span></code></pre></div>
<pre><code>## [1] 922221.2</code></pre>
</div>
<div id="maximum-likelihood-estimation-of-the-alphas" class="section level3">
<h3>Maximum likelihood estimation of the alphas</h3>
<p>Let <span class="math inline">\(\mathbf{t}:=(t_1,\dots,t_n)\)</span> be a vector of thresholds and let <span class="math inline">\(\boldsymbol\alpha:=(\alpha_1,\dots,\alpha_n)\)</span> be a vector of Pareto alphas. For <span class="math inline">\(i=1,\dots,n\)</span> let <span class="math inline">\(X_i\sim \text{PPareto}(\mathbf{t},\boldsymbol\alpha)\)</span>. If the vector <span class="math inline">\(\mathbf{t}\)</span> is known, then the parameter vector <span class="math inline">\(\boldsymbol\alpha\)</span> can be estimated with maximum likelihood.</p>
<p><em>Example:</em></p>
<p>Piecewise Pareto distributed losses with <span class="math inline">\(\mathbf{t}:=(100,\,200,\, 300)\)</span> and <span class="math inline">\(\boldsymbol\alpha:=(1,\, 2,\, 3)\)</span>:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true"></a>losses &lt;-<span class="st"> </span><span class="kw">rPiecewisePareto</span>(<span class="dv">10000</span>, <span class="dt">t =</span> <span class="kw">c</span>(<span class="dv">100</span>,<span class="dv">200</span>,<span class="dv">300</span>), <span class="dt">alpha =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true"></a><span class="kw">PiecewisePareto_ML_Estimator_Alpha</span>(losses, <span class="kw">c</span>(<span class="dv">100</span>,<span class="dv">200</span>,<span class="dv">300</span>))</span></code></pre></div>
<pre><code>## [1] 1.001915 1.953218 3.124186</code></pre>
</div>
<div id="truncation-1" class="section level3">
<h3>Truncation</h3>
<p>The package also provides truncated versions of the piecewise Pareto distribution. There are two options available:</p>
<ul>
<li><code>truncation_type = &#39;lp&#39;</code>: Below the largest threshold <span class="math inline">\(t_n\)</span>, the distribution function equals the distribution of the piecewise Pareto distribution without truncation. The last Pareto piece, however, is truncated at <code>truncation</code></li>
<li><code>truncation_type = &#39;wd&#39;</code>: The whole piecewise Pareto distribution is truncated at `truncation’</li>
</ul>
</div>
</div>
<div id="matching-a-tower-of-layer-losses" class="section level2">
<h2>Matching a tower of layer losses</h2>
<p>The Pareto distribution can be used to build a collective model which matches the expected loss of two layers. We can use piecewise Pareto if we want to match the expected loss of more than two layers.</p>
<p>Consider a sequence of attachment points <span class="math inline">\(0 &lt; a_1 &lt;\dots &lt; a_n&lt;a_{n+1}:=+\infty\)</span>. Let <span class="math inline">\(c_i:=a_{i+1}-a_i\)</span> and let <span class="math inline">\(e_i\)</span> be the expected loss of the layer <span class="math inline">\(c_i\)</span> xs <span class="math inline">\(a_i\)</span>. Moreover, let <span class="math inline">\(f_1\)</span> be the expected frequency in excess of <span class="math inline">\(a_1\)</span>.</p>
<p>The following matching algorithm uses one Pareto piece per layer and is straight forward:</p>
<ul>
<li>Calculate the Pareto alpha <span class="math inline">\(\alpha_1\)</span> between the excess frequency <span class="math inline">\(f_1\)</span> and the layer <span class="math inline">\(c_1\)</span> xs <span class="math inline">\(a_1\)</span></li>
<li>Calculate the frequency <span class="math inline">\(f_2\)</span> in excess of <span class="math inline">\(a_2\)</span>: <span class="math inline">\(f_2:=(a_1/a_2)^{\alpha_1}\cdot f_1\)</span></li>
<li>Calculate the Pareto alpha <span class="math inline">\(\alpha_2\)</span> between the excess frequency <span class="math inline">\(f_2\)</span> and the layer <span class="math inline">\(c_2\)</span> xs <span class="math inline">\(a_2\)</span></li>
<li>Calculate the frequency <span class="math inline">\(f_3\)</span> in excess of <span class="math inline">\(a_3\)</span>: <span class="math inline">\(f_3:=(a_2/a_3)^{\alpha_2}\cdot f_3\)</span></li>
<li><span class="math inline">\(\dots\)</span> </li>
<li>Use a collective model <span class="math inline">\(\sum_{n=1}^NX_n\)</span> with <span class="math inline">\(E(N)=f_1\)</span> and <span class="math inline">\(X_n\sim\text{PPareto}(\mathbf{t},\boldsymbol\alpha)\)</span>.</li>
</ul>
<p>This approach always works for three layers, but it often does not work if we have three or more layers. For instance, Riegel (2018) shows that it does not work for the following example:</p>
<table>
<thead>
<tr class="header">
<th><span class="math inline">\(i\)</span></th>
<th align="right">Cover <span class="math inline">\(c_i\)</span></th>
<th align="right">Att. Pt. <span class="math inline">\(a_i\)</span></th>
<th align="right">Exp. Loss <span class="math inline">\(e_i\)</span></th>
<th align="right">Rate on Line <span class="math inline">\(e_i/c_i\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td align="right">500</td>
<td align="right">1000</td>
<td align="right">100</td>
<td align="right">0.20</td>
</tr>
<tr class="even">
<td>2</td>
<td align="right">500</td>
<td align="right">1500</td>
<td align="right">90</td>
<td align="right">0.18</td>
</tr>
<tr class="odd">
<td>3</td>
<td align="right">500</td>
<td align="right">2000</td>
<td align="right">50</td>
<td align="right">0.10</td>
</tr>
<tr class="even">
<td>4</td>
<td align="right">500</td>
<td align="right">2500</td>
<td align="right">40</td>
<td align="right">0.08</td>
</tr>
</tbody>
</table>
<p>The Pareto package provides a more complex matching approach that uses two Pareto pieces per layer. Riegel (2018) shows that this approach works for an arbitrary number of layers with consistent expected losses.</p>
<p><em>Example:</em></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true"></a>attachment_points &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">1500</span>, <span class="dv">2000</span>, <span class="dv">2500</span>, <span class="dv">3000</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true"></a>exp_losses &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">90</span>, <span class="dv">50</span>, <span class="dv">40</span>, <span class="dv">100</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true"></a>fit &lt;-<span class="st"> </span><span class="kw">PiecewisePareto_Match_Layer_Losses</span>(attachment_points, exp_losses)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true"></a>fit</span></code></pre></div>
<pre><code>## 
## Panjer &amp; Piecewise Pareto model
## 
## Collective model with a Poisson distribution for the claim count and a Piecewise Pareto distributed severity.
## 
## Poisson Distribution:
## Expected Frequency:   0.2136971
## 
## Piecewise Pareto Distribution:
## Thresholds:         1000   1500   1932.059   2000   2147.531   2500   2847.756   3000
## Alphas:              0.3091209   0.1753613   9.685189   3.538534   0.817398   0.7663698   5.086828   2.845488
## The distribution is not truncated.
## 
## Status:               0
## Comments:             OK</code></pre>
<p>The function <code>PiecewisePareto_Match_Layer_Losses</code> returns a <code>PPP_Model</code> object (PPP stands for Panjer &amp; Piecewise Pareto) which contains the information required to specify a collective model with a Panjer distributed claim count and a piecewise Pareto distributed severity. The results can be checked using the attributes <code>FQ</code>, <code>t</code> and <code>alpha</code> of the object:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true"></a><span class="kw">c</span>(<span class="kw">PiecewisePareto_Layer_Mean</span>(<span class="dv">500</span>, <span class="dv">1000</span>, fit<span class="op">$</span>t, fit<span class="op">$</span>alpha) <span class="op">*</span><span class="st"> </span>fit<span class="op">$</span>FQ,</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true"></a>  <span class="kw">PiecewisePareto_Layer_Mean</span>(<span class="dv">500</span>, <span class="dv">1500</span>, fit<span class="op">$</span>t, fit<span class="op">$</span>alpha) <span class="op">*</span><span class="st"> </span>fit<span class="op">$</span>FQ,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true"></a>  <span class="kw">PiecewisePareto_Layer_Mean</span>(<span class="dv">500</span>, <span class="dv">2000</span>, fit<span class="op">$</span>t, fit<span class="op">$</span>alpha) <span class="op">*</span><span class="st"> </span>fit<span class="op">$</span>FQ,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true"></a>  <span class="kw">PiecewisePareto_Layer_Mean</span>(<span class="dv">500</span>, <span class="dv">2500</span>, fit<span class="op">$</span>t, fit<span class="op">$</span>alpha) <span class="op">*</span><span class="st"> </span>fit<span class="op">$</span>FQ,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true"></a>  <span class="kw">PiecewisePareto_Layer_Mean</span>(<span class="ot">Inf</span>, <span class="dv">3000</span>, fit<span class="op">$</span>t, fit<span class="op">$</span>alpha) <span class="op">*</span><span class="st"> </span>fit<span class="op">$</span>FQ)</span></code></pre></div>
<pre><code>## [1] 100  90  50  40 100</code></pre>
<p>There are, however, functions which can directly use PPP_Models:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true"></a>covers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">diff</span>(attachment_points), <span class="ot">Inf</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true"></a><span class="kw">Layer_Mean</span>(fit, covers, attachment_points)</span></code></pre></div>
<pre><code>## [1] 100  90  50  40 100</code></pre>
</div>
<div id="matching-reference-information" class="section level2">
<h2>Matching reference information</h2>
<p>The function <code>PiecewisePareto_Match_Layer_Losses</code> can be used to match the expected losses of a complete tower of layers. If we want to match the expected losses of some reference layers which do not form a complete tower then it is more convenient to use the function <code>Fit_References</code>. Also excess frequencies can be provided as reference information. The function can be seen as a user interface for <code>PiecewisePareto_Match_Layer_Losses</code>:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true"></a>  covers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">1000</span>, <span class="dv">1000</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true"></a>  att_points &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>, <span class="dv">5000</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true"></a>  exp_losses &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">10</span>)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true"></a>  thresholds &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4000</span>, <span class="dv">10000</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true"></a>  fqs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.04</span>, <span class="fl">0.005</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true"></a>  fit &lt;-<span class="st"> </span><span class="kw">Fit_References</span>(covers, att_points, exp_losses, thresholds, fqs)</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true"></a>  <span class="kw">Layer_Mean</span>(fit, covers, att_points)</span></code></pre></div>
<pre><code>## [1] 100  50  10</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true"></a>  <span class="kw">Excess_Frequency</span>(fit, thresholds)</span></code></pre></div>
<pre><code>## [1] 0.040 0.005</code></pre>
<p>If the package <code>lpSolve</code> is installed then the funcion <code>Fit_References</code> can handle ovelapping layers.</p>
</div>
<div id="ppp_models-panjer-piecewise-pareto-models" class="section level2">
<h2>PPP_Models (Panjer &amp; Piecewise Pareto Models)</h2>
<p>A <code>PPP_Model</code> object contains the information required to specify a collective model with a Panjer distributed claim count and a piecewise Pareto distributed severity.</p>
<p><strong>Claim count distribution:</strong> The Panjer class contains the binomial distribution, the Poisson distribution and the negative binomial distribution. The distribution of the claim count <span class="math inline">\(N\)</span> is specified by the expected frequency <span class="math inline">\(E(N)\)</span> (attribute <code>FQ</code> of the object) and the dispersion <span class="math inline">\(D(N):=Var(N)/E(N)\)</span> (attribute <code>dispersion</code> of the object). We have the following cases:</p>
<ul>
<li><code>dispersion &lt; 1</code>: binomial distribution</li>
<li><code>dispersion = 1</code>: Poisson distribution</li>
<li><code>dispersion &gt; 1</code>: negative binomial distribution.</li>
</ul>
<p><strong>Severity distribution:</strong> The piecewise Pareto distribution is specified by the vectors <code>t</code>, <code>alpha</code>, <code>truncation</code> and <code>truncation_type</code>.</p>
<p>The function <code>PiecewisePareto_Match_Layer_Losses</code> returns <code>PPP_Model</code> object. Such an object can also be directly created using the constructor function:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true"></a>PPPM &lt;-<span class="st"> </span><span class="kw">PPP_Model</span>(<span class="dt">FQ =</span> <span class="dv">2</span>, <span class="dt">t =</span> <span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>), <span class="dt">alpha =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true"></a>                  <span class="dt">truncation =</span> <span class="dv">10000</span>, <span class="dt">truncation_type =</span> <span class="st">&quot;wd&quot;</span>, <span class="dt">dispersion =</span> <span class="fl">1.5</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true"></a>PPPM</span></code></pre></div>
<pre><code>## 
## Panjer &amp; Piecewise Pareto model
## 
## Collective model with a Negative Binomial distribution for the claim count and a Piecewise Pareto distributed severity.
## 
## Negative Binomial Distribution:
## Expected Frequency:   2
## Dispersion:           1.5 (i.e. contagion = 0.25)
## 
## Piecewise Pareto Distribution:
## Thresholds:         1000   2000
## Alphas:              1   2
## Truncation:           10000
## Truncation Type:      &#39;wd&#39;
## 
## Status:               0
## Comments:             OK</code></pre>
<div id="expected-loss-standard-deviation-and-variance-for-reinsurance-layers" class="section level3">
<h3>Expected Loss, Standard Deviation and Variance for Reinsurance Layers</h3>
<p>A <code>PPP_Model</code> can directly be used to calculate the expected loss, the standard deviation or the variance of a reinsurance layer: function:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true"></a>PPPM &lt;-<span class="st"> </span><span class="kw">PPP_Model</span>(<span class="dt">FQ =</span> <span class="dv">2</span>, <span class="dt">t =</span> <span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>), <span class="dt">alpha =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true"></a>                  <span class="dt">truncation =</span> <span class="dv">10000</span>, <span class="dt">truncation_type =</span> <span class="st">&quot;wd&quot;</span>, <span class="dt">dispersion =</span> <span class="fl">1.5</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true"></a><span class="kw">Layer_Mean</span>(PPPM, <span class="dv">4000</span>, <span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## [1] 2475.811</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true"></a><span class="kw">Layer_Sd</span>(PPPM, <span class="dv">4000</span>, <span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## [1] 2676.332</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true"></a><span class="kw">Layer_Var</span>(PPPM, <span class="dv">4000</span>, <span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## [1] 7162754</code></pre>
</div>
<div id="expected-excess-frequency" class="section level3">
<h3>Expected Excess Frequency</h3>
<p>A <code>PPP_Model</code> can directly be used to calculate the expected frequency in excess of a threshold:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true"></a>PPPM &lt;-<span class="st"> </span><span class="kw">PPP_Model</span>(<span class="dt">FQ =</span> <span class="dv">2</span>, <span class="dt">t =</span> <span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>), <span class="dt">alpha =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true"></a>                  <span class="dt">truncation =</span> <span class="dv">10000</span>, <span class="dt">truncation_type =</span> <span class="st">&quot;wd&quot;</span>, <span class="dt">dispersion =</span> <span class="fl">1.5</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true"></a>thresholds &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="dv">2000</span>, <span class="dv">5000</span>, <span class="dv">10000</span>, <span class="ot">Inf</span>)</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true"></a><span class="kw">Excess_Frequency</span>(PPPM, thresholds)</span></code></pre></div>
<pre><code>## [1] 2.0000000 2.0000000 0.9795918 0.1224490 0.0000000 0.0000000</code></pre>
</div>
<div id="simulation-of-losses" class="section level3">
<h3>Simulation of Losses</h3>
<p>A <code>PPP_Model</code> can directly be used to simulate losses with the corresponding collective model:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true"></a>PPPM &lt;-<span class="st"> </span><span class="kw">PPP_Model</span>(<span class="dt">FQ =</span> <span class="dv">2</span>, <span class="dt">t =</span> <span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>), <span class="dt">alpha =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true"></a>                  <span class="dt">truncation =</span> <span class="dv">10000</span>, <span class="dt">truncation_type =</span> <span class="st">&quot;wd&quot;</span>, <span class="dt">dispersion =</span> <span class="fl">1.5</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true"></a><span class="kw">Simulate_Losses</span>(PPPM, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##           [,1]     [,2]     [,3]     [,4]
##  [1,]      NaN      NaN      NaN      NaN
##  [2,] 1500.797      NaN      NaN      NaN
##  [3,]      NaN      NaN      NaN      NaN
##  [4,]      NaN      NaN      NaN      NaN
##  [5,] 4463.640 2920.168      NaN      NaN
##  [6,] 1642.409 3282.566      NaN      NaN
##  [7,] 1226.696 5038.133      NaN      NaN
##  [8,] 1289.661 2096.238      NaN      NaN
##  [9,] 3448.268 1373.413      NaN      NaN
## [10,] 1075.308 1805.253 1130.548 1371.263</code></pre>
<p>The function <code>Simulate_Losses</code> returns a matrix where each row contains the losses from one simulation.</p>
<p>Note that for a given expected frequency <code>FQ</code> not every dispersion <code>dispersion &lt; 1</code> is possible for the binomial distribution. In this case a binomial distribution with the smallest dispersion larger than or equal to <code>dispersion</code> is used for the simulation.</p>
</div>
</div>
<div id="generalized-pareto-distribution" class="section level2">
<h2>Generalized Pareto Distribution</h2>
<p><strong>Definition:</strong> Let <span class="math inline">\(t&gt;0\)</span> and <span class="math inline">\(\alpha_\text{ini}, \alpha_\text{tail}&gt;0\)</span>. The <em>generalized Pareto distribution</em> <span class="math inline">\(\text{GenPareto}(t,\alpha_\text{ini}, \alpha_\text{tail})\)</span> is defined by the distribution function <span class="math display">\[
F_{t,\alpha_\text{ini}, \alpha_\text{tail}}(x):=\begin{cases}
0 &amp; \text{ for $x\le t$} \\
\displaystyle 1-\left(1+\frac{\alpha_\text{ini}}{\alpha_\text{tail}} \left(\frac{x}{t}-1\right)\right)^{-\alpha_\text{tail}} &amp; \text{ for $x&gt;t$.}
\end{cases}
\]</span> We do not the standard parameterization from extreme value theory but the parameterization from Riegel (2008) which is useful in a reinsurance context.</p>
<div id="distribution-function-and-density-1" class="section level3">
<h3>Distribution function and density</h3>
<p>The functions <code>pGenPareto</code> and <code>dGenPareto</code> provide the distribution function and the density function of the Pareto distribution:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1000</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true"></a><span class="kw">pGenPareto</span>(x, <span class="dt">t =</span> <span class="dv">1000</span>, <span class="dt">alpha_ini =</span> <span class="dv">1</span>, <span class="dt">alpha_tail =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 0.0000000 0.5555556 0.7500000 0.8400000 0.8888889 0.9183673 0.9375000
##  [8] 0.9506173 0.9600000 0.9669421</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true"></a><span class="kw">plot</span>(<span class="kw">pGenPareto</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5000</span>, <span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;CDF(x)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true"></a><span class="kw">dGenPareto</span>(x, <span class="dt">t =</span> <span class="dv">1000</span>, <span class="dt">alpha_ini =</span> <span class="dv">1</span>, <span class="dt">alpha_tail =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 0.000000e+00 2.962963e-04 1.250000e-04 6.400000e-05 3.703704e-05
##  [6] 2.332362e-05 1.562500e-05 1.097394e-05 8.000000e-06 6.010518e-06</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true"></a><span class="kw">plot</span>(<span class="kw">dGenPareto</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5000</span>, <span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;PDF(x)&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The package also provides the quantile function:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true"></a><span class="kw">qGenPareto</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">10</span> <span class="op">/</span><span class="st"> </span><span class="dv">10</span>, <span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 1000.000 1108.185 1236.068 1390.457 1581.989 1828.427 2162.278 2651.484
##  [9] 3472.136 5324.555      Inf</code></pre>
</div>
<div id="simulation-2" class="section level3">
<h3>Simulation:</h3>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true"></a><span class="kw">rGenPareto</span>(<span class="dv">20</span>, <span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1] 4828.809 1406.531 1093.536 1579.234 2384.107 1790.853 3702.058 2897.644
##  [9] 3481.567 1053.733 1774.447 4634.423 5649.051 4756.961 1282.859 3260.347
## [17] 8186.255 1165.029 1225.942 2070.784</code></pre>
</div>
<div id="layer-mean-2" class="section level3">
<h3>Layer mean:</h3>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true"></a><span class="kw">GenPareto_Layer_Mean</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dt">t =</span> <span class="dv">500</span>, <span class="dt">alpha_ini =</span> <span class="dv">1</span>, <span class="dt">alpha_tail =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 484.8485</code></pre>
</div>
<div id="layer-variance-2" class="section level3">
<h3>Layer variance:</h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true"></a><span class="kw">GenPareto_Layer_Var</span>(<span class="dv">4000</span>, <span class="dv">1000</span>, <span class="dt">t =</span> <span class="dv">500</span>, <span class="dt">alpha_ini =</span> <span class="dv">1</span>, <span class="dt">alpha_tail =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 908942.5</code></pre>
</div>
</div>
<div id="pgp_models-panjer-generalized-pareto-models" class="section level2">
<h2>PGP_Models (Panjer &amp; Generalized Pareto Models)</h2>
<p>A <code>PGP_Model</code> object contains the information required to specify a collective model with a Panjer distributed claim count and a generalized Pareto distributed severity.</p>
<p><strong>Claim count distribution:</strong> Like in a <code>PPP_Model</code> the claim count distribution from the Panjer class is specified by the expected frequency <span class="math inline">\(E(N)\)</span> (attribute <code>FQ</code> of the object) and the dispersion <span class="math inline">\(D(N):=Var(N)/E(N)\)</span> (attribute <code>dispersion</code> of the object).</p>
<p><strong>Severity distribution:</strong> The generalized Pareto distribution is specified by the parameters <code>t</code>, <code>alpha_ini</code>, <code>alpha_tail</code> and <code>truncation</code>.</p>
<p>A <code>PPP_Model</code> object can be created using the constructor function:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true"></a>PGPM &lt;-<span class="st"> </span><span class="kw">PGP_Model</span>(<span class="dt">FQ =</span> <span class="dv">2</span>, <span class="dt">t =</span> <span class="dv">1000</span>, <span class="dt">alpha_ini =</span> <span class="dv">1</span>, <span class="dt">alpha_tail =</span> <span class="dv">2</span>, </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true"></a>                  <span class="dt">truncation =</span> <span class="dv">10000</span>, <span class="dt">dispersion =</span> <span class="fl">1.5</span>)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true"></a>PGPM</span></code></pre></div>
<pre><code>## 
## Panjer &amp; Generalized Pareto model
## 
## Collective model with a Negative Binomial distribution for the claim count and a generalized Pareto distributed severity.
## 
## Negative Binomial Distribution:
## Expected Frequency:   2
## Dispersion:           1.5 (i.e. contagion = 0.25)
## Generalized Pareto Distribution:
## Threshold:            1000
## alpha_ini:            1
## alpha_tail:           2
## Truncation:           10000
## 
## Status:               0
## Comments:             OK</code></pre>
<div id="methods-for-pgp_models" class="section level3">
<h3>Methods for PGP_Models</h3>
<p>For PGP_Models the same methods are available as for PPP_Models:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true"></a>PGPM &lt;-<span class="st"> </span><span class="kw">PGP_Model</span>(<span class="dt">FQ =</span> <span class="dv">2</span>, <span class="dt">t =</span> <span class="dv">1000</span>, <span class="dt">alpha_ini =</span> <span class="dv">1</span>, <span class="dt">alpha_tail =</span> <span class="dv">2</span>, </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true"></a>                  <span class="dt">truncation =</span> <span class="dv">10000</span>, <span class="dt">dispersion =</span> <span class="fl">1.5</span>)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true"></a><span class="kw">Layer_Mean</span>(PGPM, <span class="dv">4000</span>, <span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## [1] 2484.33</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true"></a><span class="kw">Layer_Sd</span>(PGPM, <span class="dv">4000</span>, <span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## [1] 2756.15</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true"></a><span class="kw">Layer_Var</span>(PGPM, <span class="dv">4000</span>, <span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## [1] 7596365</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true"></a>thresholds &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="dv">2000</span>, <span class="dv">5000</span>, <span class="dv">10000</span>, <span class="ot">Inf</span>)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true"></a><span class="kw">Excess_Frequency</span>(PGPM, thresholds)</span></code></pre></div>
<pre><code>## [1] 2.0000000 2.0000000 0.8509022 0.1614435 0.0000000 0.0000000</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true"></a><span class="kw">Simulate_Losses</span>(PGPM, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##           [,1]     [,2]     [,3]     [,4]
##  [1,] 1038.730      NaN      NaN      NaN
##  [2,] 2088.776 3073.461 2211.025      NaN
##  [3,]      NaN      NaN      NaN      NaN
##  [4,] 4461.765      NaN      NaN      NaN
##  [5,] 1317.969 4519.535      NaN      NaN
##  [6,] 3288.233 1071.195      NaN      NaN
##  [7,] 2284.688 2436.009      NaN      NaN
##  [8,]      NaN      NaN      NaN      NaN
##  [9,] 1111.868      NaN      NaN      NaN
## [10,] 1296.986 1291.490 2984.140 2346.159</code></pre>
</div>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<p>Fackler, M. (2013) Reinventing Pareto: Fits for both small and large losses. ASTIN Colloquium Den Haag</p>
<p>Johnson, N.L., and Kotz, S. (1970) Continuous Univariate Distributions-I. Houghton Mifflin Co</p>
<p>Philbrick, S.W. (1985) A Practical Guide to the Single Parameter Pareto Distribution. PCAS LXXII: 44–84</p>
<p>Riegel, U. (2008) Generalizations of common ILF models. Bl&quot;{a}tter der DGVFM 29: 45–71</p>
<p>Riegel, U. (2018) Matching tower information with piecewise Pareto. European Actuarial Journal 8(2): 437–460</p>
<p>Schmutz, M., and Doerr, R.R. (1998) Das Pareto-Modell in der Sach-Rueckversicherung. Formeln und Anwendungen. Swiss Re Publications, Zuerich</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
